"use strict";(globalThis.webpackChunkfrontend_book=globalThis.webpackChunkfrontend_book||[]).push([[9288],{3023(n,i,e){e.d(i,{R:()=>t,x:()=>a});var o=e(3696);const r={},l=o.createContext(r);function t(n){const i=o.useContext(l);return o.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function a(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),o.createElement(l.Provider,{value:i},n.children)}},5124(n,i,e){e.r(i),e.d(i,{assets:()=>s,contentTitle:()=>t,default:()=>m,frontMatter:()=>l,metadata:()=>a,toc:()=>d});var o=e(2540),r=e(3023);const l={title:"URDF for Humanoid Robots",sidebar_position:1},t="URDF for Humanoid Robots",a={id:"urdf-humanoids",title:"URDF for Humanoid Robots",description:"Learning Objectives",source:"@site/docs/urdf-humanoids.md",sourceDirName:".",slug:"/urdf-humanoids",permalink:"/docs/urdf-humanoids",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/urdf-humanoids.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"URDF for Humanoid Robots",sidebar_position:1}},s={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction to URDF",id:"introduction-to-urdf",level:2},{value:"Basic URDF Structure",id:"basic-urdf-structure",level:3},{value:"Humanoid Robot Structure",id:"humanoid-robot-structure",level:2},{value:"Complete Humanoid URDF Example",id:"complete-humanoid-urdf-example",level:3},{value:"URDF Properties for Humanoid Robots",id:"urdf-properties-for-humanoid-robots",level:2},{value:"Joint Types",id:"joint-types",level:3},{value:"Inertial Properties",id:"inertial-properties",level:3},{value:"Visual and Collision Properties",id:"visual-and-collision-properties",level:3},{value:"Creating Materials and Colors",id:"creating-materials-and-colors",level:2},{value:"URDF Tools and Validation",id:"urdf-tools-and-validation",level:2},{value:"Checking URDF Validity",id:"checking-urdf-validity",level:3},{value:"Visualizing URDF",id:"visualizing-urdf",level:3},{value:"Gazebo-Specific Tags",id:"gazebo-specific-tags",level:2},{value:"Best Practices for Humanoid URDF",id:"best-practices-for-humanoid-urdf",level:2},{value:"1. Naming Conventions",id:"1-naming-conventions",level:3},{value:"2. Proper Mass Distribution",id:"2-proper-mass-distribution",level:3},{value:"3. Joint Limits",id:"3-joint-limits",level:3},{value:"4. Safety Margins",id:"4-safety-margins",level:3},{value:"Simulation Considerations",id:"simulation-considerations",level:2},{value:"Realistic Inertias",id:"realistic-inertias",level:3},{value:"Collision Models",id:"collision-models",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"1. Robot Falls Through Ground",id:"1-robot-falls-through-ground",level:3},{value:"2. Unstable Simulation",id:"2-unstable-simulation",level:3},{value:"3. Joint Limit Violations",id:"3-joint-limit-violations",level:3},{value:"Advanced URDF Features",id:"advanced-urdf-features",level:2},{value:"Transmission Elements",id:"transmission-elements",level:3},{value:"ROS Control Integration",id:"ros-control-integration",level:3},{value:"Summary",id:"summary",level:2}];function c(n){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h1,{id:"urdf-for-humanoid-robots",children:"URDF for Humanoid Robots"}),"\n",(0,o.jsx)(i.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,o.jsx)(i.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Design URDF models for humanoid robots"}),"\n",(0,o.jsx)(i.li,{children:"Understand the structure and components of humanoid robot models"}),"\n",(0,o.jsx)(i.li,{children:"Visualize and validate URDF models in simulation environments"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"introduction-to-urdf",children:"Introduction to URDF"}),"\n",(0,o.jsx)(i.p,{children:"URDF (Unified Robot Description Format) is an XML format used to describe robots in ROS. For humanoid robots, URDF defines the physical structure, including links (rigid bodies) and joints (connections between links)."}),"\n",(0,o.jsx)(i.h3,{id:"basic-urdf-structure",children:"Basic URDF Structure"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_humanoid">\n  \x3c!-- Links define rigid bodies --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.5 0.2"/>\n      </geometry>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.5 0.5 0.2"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joints connect links --\x3e\n  <joint name="base_to_torso" type="fixed">\n    <parent link="base_link"/>\n    <child link="torso"/>\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\n  </joint>\n\n  <link name="torso">\n    <visual>\n      <geometry>\n        <box size="0.3 0.3 0.5"/>\n      </geometry>\n    </visual>\n  </link>\n</robot>\n'})}),"\n",(0,o.jsx)(i.h2,{id:"humanoid-robot-structure",children:"Humanoid Robot Structure"}),"\n",(0,o.jsx)(i.p,{children:"Humanoid robots typically have the following components:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Torso"}),": The central body containing the main computer and power systems"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Head"}),": Contains sensors like cameras and IMUs"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Arms"}),": With shoulders, elbows, and wrists for manipulation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Legs"}),": With hips, knees, and ankles for locomotion"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Hands/Feet"}),": For interaction with the environment"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"complete-humanoid-urdf-example",children:"Complete Humanoid URDF Example"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="humanoid_robot">\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    <inertial>\n      <mass value="10.0"/>\n      <origin xyz="0 0 0.2"/>\n      <inertia ixx="0.4" ixy="0.0" ixz="0.0" iyy="0.4" iyz="0.0" izz="0.2"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.2"/>\n      <geometry>\n        <box size="0.3 0.3 0.4"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.2"/>\n      <geometry>\n        <box size="0.3 0.3 0.4"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Torso --\x3e\n  <joint name="torso_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="torso"/>\n    <origin xyz="0 0 0.4"/>\n  </joint>\n\n  <link name="torso">\n    <inertial>\n      <mass value="8.0"/>\n      <origin xyz="0 0 0.3"/>\n      <inertia ixx="0.5" ixy="0.0" ixz="0.0" iyy="0.5" iyz="0.0" izz="0.3"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.3"/>\n      <geometry>\n        <box size="0.25 0.25 0.6"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.3"/>\n      <geometry>\n        <box size="0.25 0.25 0.6"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <joint name="head_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.6"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="10.0" velocity="1.0"/>\n  </joint>\n\n  <link name="head">\n    <inertial>\n      <mass value="2.0"/>\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.05"/>\n    </inertial>\n    <visual>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Left Arm --\x3e\n  <joint name="left_shoulder_pitch" type="revolute">\n    <parent link="torso"/>\n    <child link="left_upper_arm"/>\n    <origin xyz="0.15 0 0.3" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-1.57" upper="1.57" effort="50.0" velocity="2.0"/>\n  </joint>\n\n  <link name="left_upper_arm">\n    <inertial>\n      <mass value="3.0"/>\n      <origin xyz="0 0 -0.15"/>\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_elbow" type="revolute">\n    <parent link="left_upper_arm"/>\n    <child link="left_lower_arm"/>\n    <origin xyz="0 0 -0.3"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-2.36" upper="0" effort="30.0" velocity="2.0"/>\n  </joint>\n\n  <link name="left_lower_arm">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 -0.1"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.005"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.1"/>\n      <geometry>\n        <cylinder length="0.2" radius="0.04"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.1"/>\n      <geometry>\n        <cylinder length="0.2" radius="0.04"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Right Arm (similar structure) --\x3e\n  <joint name="right_shoulder_pitch" type="revolute">\n    <parent link="torso"/>\n    <child link="right_upper_arm"/>\n    <origin xyz="-0.15 0 0.3" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-1.57" upper="1.57" effort="50.0" velocity="2.0"/>\n  </joint>\n\n  <link name="right_upper_arm">\n    <inertial>\n      <mass value="3.0"/>\n      <origin xyz="0 0 -0.15"/>\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_elbow" type="revolute">\n    <parent link="right_upper_arm"/>\n    <child link="right_lower_arm"/>\n    <origin xyz="0 0 -0.3"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-2.36" upper="0" effort="30.0" velocity="2.0"/>\n  </joint>\n\n  <link name="right_lower_arm">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 -0.1"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.005"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.1"/>\n      <geometry>\n        <cylinder length="0.2" radius="0.04"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.1"/>\n      <geometry>\n        <cylinder length="0.2" radius="0.04"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Left Leg --\x3e\n  <joint name="left_hip_yaw" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_thigh"/>\n    <origin xyz="0.1 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.785" upper="0.785" effort="100.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_thigh">\n    <inertial>\n      <mass value="5.0"/>\n      <origin xyz="0 0 -0.2"/>\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.02"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.2"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.06"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.06"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_knee" type="revolute">\n    <parent link="left_thigh"/>\n    <child link="left_shin"/>\n    <origin xyz="0 0 -0.4"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0" upper="2.36" effort="100.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_shin">\n    <inertial>\n      <mass value="4.0"/>\n      <origin xyz="0 0 -0.15"/>\n      <inertia ixx="0.06" ixy="0.0" ixz="0.0" iyy="0.06" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_ankle" type="revolute">\n    <parent link="left_shin"/>\n    <child link="left_foot"/>\n    <origin xyz="0 0 -0.3"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.785" upper="0.785" effort="50.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_foot">\n    <inertial>\n      <mass value="1.5"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.025"/>\n      <geometry>\n        <box size="0.2 0.1 0.05"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.025"/>\n      <geometry>\n        <box size="0.2 0.1 0.05"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Right Leg (similar structure) --\x3e\n  <joint name="right_hip_yaw" type="revolute">\n    <parent link="base_link"/>\n    <child link="right_thigh"/>\n    <origin xyz="-0.1 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.785" upper="0.785" effort="100.0" velocity="1.0"/>\n  </joint>\n\n  <link name="right_thigh">\n    <inertial>\n      <mass value="5.0"/>\n      <origin xyz="0 0 -0.2"/>\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.02"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.2"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.06"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.06"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_knee" type="revolute">\n    <parent link="right_thigh"/>\n    <child link="right_shin"/>\n    <origin xyz="0 0 -0.4"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0" upper="2.36" effort="100.0" velocity="1.0"/>\n  </joint>\n\n  <link name="right_shin">\n    <inertial>\n      <mass value="4.0"/>\n      <origin xyz="0 0 -0.15"/>\n      <inertia ixx="0.06" ixy="0.0" ixz="0.0" iyy="0.06" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_ankle" type="revolute">\n    <parent link="right_shin"/>\n    <child link="right_foot"/>\n    <origin xyz="0 0 -0.3"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.785" upper="0.785" effort="50.0" velocity="1.0"/>\n  </joint>\n\n  <link name="right_foot">\n    <inertial>\n      <mass value="1.5"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.025"/>\n      <geometry>\n        <box size="0.2 0.1 0.05"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.025"/>\n      <geometry>\n        <box size="0.2 0.1 0.05"/>\n      </geometry>\n    </collision>\n  </link>\n</robot>\n'})}),"\n",(0,o.jsx)(i.h2,{id:"urdf-properties-for-humanoid-robots",children:"URDF Properties for Humanoid Robots"}),"\n",(0,o.jsx)(i.h3,{id:"joint-types",children:"Joint Types"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Revolute"}),": Rotational joint with limited range"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Continuous"}),": Rotational joint without limits"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Prismatic"}),": Linear sliding joint"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Fixed"}),": No movement (welded connection)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Floating"}),": 6 DOF (rarely used in humanoid models)"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"inertial-properties",children:"Inertial Properties"}),"\n",(0,o.jsx)(i.p,{children:"For humanoid robots, accurate inertial properties are crucial for realistic simulation:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<inertial>\n  <mass value="5.0"/>  \x3c!-- Mass in kg --\x3e\n  <origin xyz="0 0 -0.2"/>  \x3c!-- Center of mass --\x3e\n  <inertia ixx="0.1" ixy="0.0" ixz="0.0"\n           iyy="0.1" iyz="0.0" izz="0.02"/>  \x3c!-- Inertia matrix --\x3e\n</inertial>\n'})}),"\n",(0,o.jsx)(i.h3,{id:"visual-and-collision-properties",children:"Visual and Collision Properties"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<visual>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <geometry>\n    <mesh filename="package://my_robot/meshes/link1.dae"/>\n    \x3c!-- or --\x3e\n    <box size="0.1 0.1 0.1"/>\n    <cylinder length="0.1" radius="0.05"/>\n    <sphere radius="0.05"/>\n  </geometry>\n  <material name="blue">\n    <color rgba="0 0 1 1"/>\n  </material>\n</visual>\n\n<collision>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <geometry>\n    <box size="0.1 0.1 0.1"/>\n  </geometry>\n</collision>\n'})}),"\n",(0,o.jsx)(i.h2,{id:"creating-materials-and-colors",children:"Creating Materials and Colors"}),"\n",(0,o.jsx)(i.p,{children:"For humanoid robots, you might want to define materials for different parts:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<material name="red">\n  <color rgba="1 0 0 1"/>\n</material>\n\n<material name="green">\n  <color rgba="0 1 0 1"/>\n</material>\n\n<material name="blue">\n  <color rgba="0 0 1 1"/>\n</material>\n\n<material name="white">\n  <color rgba="1 1 1 1"/>\n</material>\n\n<material name="black">\n  <color rgba="0 0 0 1"/>\n</material>\n\n<material name="light_grey">\n  <color rgba="0.8 0.8 0.8 1"/>\n</material>\n\n<material name="dark_grey">\n  <color rgba="0.3 0.3 0.3 1"/>\n</material>\n'})}),"\n",(0,o.jsx)(i.h2,{id:"urdf-tools-and-validation",children:"URDF Tools and Validation"}),"\n",(0,o.jsx)(i.h3,{id:"checking-urdf-validity",children:"Checking URDF Validity"}),"\n",(0,o.jsx)(i.p,{children:"You can validate your URDF using the check_urdf command:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# First install the tool if needed\nsudo apt-get install ros-humble-urdf-tutorial\n\n# Check your URDF file\ncheck_urdf /path/to/your/robot.urdf\n"})}),"\n",(0,o.jsx)(i.h3,{id:"visualizing-urdf",children:"Visualizing URDF"}),"\n",(0,o.jsx)(i.p,{children:"To visualize your URDF in RViz:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# Launch robot state publisher\nros2 run robot_state_publisher robot_state_publisher --ros-args -p robot_description:=$(cat robot.urdf)\n"})}),"\n",(0,o.jsx)(i.h2,{id:"gazebo-specific-tags",children:"Gazebo-Specific Tags"}),"\n",(0,o.jsx)(i.p,{children:"If you plan to use your humanoid URDF in Gazebo, you might need Gazebo-specific tags:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<gazebo reference="left_foot">\n  <mu1>0.8</mu1>\n  <mu2>0.8</mu2>\n  <kp>1000000.0</kp>\n  <kd>100.0</kd>\n  <material>Gazebo/Blue</material>\n</gazebo>\n\n<gazebo>\n  <plugin name="robot_state_publisher" filename="libgazebo_ros_robot_state_publisher.so">\n    <robot_param>robot_description</robot_param>\n  </plugin>\n</gazebo>\n'})}),"\n",(0,o.jsx)(i.h2,{id:"best-practices-for-humanoid-urdf",children:"Best Practices for Humanoid URDF"}),"\n",(0,o.jsx)(i.h3,{id:"1-naming-conventions",children:"1. Naming Conventions"}),"\n",(0,o.jsx)(i.p,{children:"Use consistent naming for joints and links:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"left_hip_yaw\nleft_hip_roll\nleft_hip_pitch\nleft_knee\nleft_ankle_pitch\nleft_ankle_roll\n"})}),"\n",(0,o.jsx)(i.h3,{id:"2-proper-mass-distribution",children:"2. Proper Mass Distribution"}),"\n",(0,o.jsx)(i.p,{children:"Distribute mass realistically across the robot:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Torso: 40-50% of total mass"}),"\n",(0,o.jsx)(i.li,{children:"Legs: 30-35% of total mass (each)"}),"\n",(0,o.jsx)(i.li,{children:"Arms: 10-15% of total mass (each)"}),"\n",(0,o.jsx)(i.li,{children:"Head: 2-5% of total mass"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"3-joint-limits",children:"3. Joint Limits"}),"\n",(0,o.jsx)(i.p,{children:"Set realistic joint limits based on human anatomy or design constraints:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'\x3c!-- Hip joints --\x3e\n<limit lower="-0.5236" upper="0.5236" effort="100.0" velocity="1.0"/>  \x3c!-- \xb130\xb0 --\x3e\n\x3c!-- Knee joints --\x3e\n<limit lower="0" upper="2.3562" effort="100.0" velocity="1.0"/>      \x3c!-- 0 to 135\xb0 --\x3e\n\x3c!-- Ankle joints --\x3e\n<limit lower="-0.5236" upper="0.5236" effort="50.0" velocity="1.0"/>  \x3c!-- \xb130\xb0 --\x3e\n'})}),"\n",(0,o.jsx)(i.h3,{id:"4-safety-margins",children:"4. Safety Margins"}),"\n",(0,o.jsx)(i.p,{children:"Include safety margins in joint limits to prevent damage:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'\x3c!-- Human ankle can go about \xb135\xb0, but limit to \xb130\xb0 for safety --\x3e\n<limit lower="-0.5236" upper="0.5236" effort="50.0" velocity="1.0"/>  \x3c!-- \xb130\xb0 --\x3e\n'})}),"\n",(0,o.jsx)(i.h2,{id:"simulation-considerations",children:"Simulation Considerations"}),"\n",(0,o.jsx)(i.h3,{id:"realistic-inertias",children:"Realistic Inertias"}),"\n",(0,o.jsx)(i.p,{children:"For stable simulation, use realistic inertia values. For simple shapes:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Solid cylinder: I = 1/12 * m * (3*r\xb2 + h\xb2) around diameter, I = 1/2 * m * r\xb2 around axis"}),"\n",(0,o.jsx)(i.li,{children:"Solid sphere: I = 2/5 * m * r\xb2"}),"\n",(0,o.jsx)(i.li,{children:"Box: I = 1/12 * m * (h\xb2 + d\xb2) around longest axis"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"collision-models",children:"Collision Models"}),"\n",(0,o.jsx)(i.p,{children:"Use simplified collision models for better performance:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'\x3c!-- Use simple shapes for collision, detailed meshes for visual --\x3e\n<collision>\n  <geometry>\n    <cylinder length="0.3" radius="0.05"/>\n  </geometry>\n</collision>\n\n<visual>\n  <geometry>\n    <mesh filename="package://my_robot/meshes/complex_arm.dae"/>\n  </geometry>\n</visual>\n'})}),"\n",(0,o.jsx)(i.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,o.jsx)(i.h3,{id:"1-robot-falls-through-ground",children:"1. Robot Falls Through Ground"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Check that base_link has proper collision geometry"}),"\n",(0,o.jsx)(i.li,{children:"Verify that all links have valid inertial properties"}),"\n",(0,o.jsx)(i.li,{children:"Ensure joints are properly connected"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"2-unstable-simulation",children:"2. Unstable Simulation"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Reduce joint efforts or add damping"}),"\n",(0,o.jsx)(i.li,{children:"Check inertia values (too high or too low)"}),"\n",(0,o.jsx)(i.li,{children:"Use fixed joints instead of very stiff revolute joints where appropriate"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"3-joint-limit-violations",children:"3. Joint Limit Violations"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Add safety margins to joint limits"}),"\n",(0,o.jsx)(i.li,{children:"Implement software joint limit checking in controllers"}),"\n",(0,o.jsx)(i.li,{children:"Use soft limits in addition to hard limits"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"advanced-urdf-features",children:"Advanced URDF Features"}),"\n",(0,o.jsx)(i.h3,{id:"transmission-elements",children:"Transmission Elements"}),"\n",(0,o.jsx)(i.p,{children:"For connecting actuators to joints:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<transmission name="left_hip_yaw_trans">\n  <type>transmission_interface/SimpleTransmission</type>\n  <joint name="left_hip_yaw">\n    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>\n  </joint>\n  <actuator name="left_hip_yaw_motor">\n    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>\n    <mechanicalReduction>1</mechanicalReduction>\n  </actuator>\n</transmission>\n'})}),"\n",(0,o.jsx)(i.h3,{id:"ros-control-integration",children:"ROS Control Integration"}),"\n",(0,o.jsx)(i.p,{children:"For integration with ros2_control:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<ros2_control name="GazeboSystem" type="system">\n  <hardware>\n    <plugin>gazebo_ros2_control/GazeboSystem</plugin>\n  </hardware>\n  <joint name="left_hip_yaw">\n    <command_interface name="position">\n      <param name="min">-0.5236</param>\n      <param name="max">0.5236</param>\n    </command_interface>\n    <state_interface name="position"/>\n    <state_interface name="velocity"/>\n  </joint>\n</ros2_control>\n'})}),"\n",(0,o.jsx)(i.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(i.p,{children:"This chapter covered the fundamentals of creating URDF models for humanoid robots. We explored the structure of humanoid robots, best practices for defining links and joints, and considerations for simulation. The URDF format provides a flexible way to describe the physical structure of humanoid robots for use in ROS and simulation environments."}),"\n",(0,o.jsx)(i.p,{children:"In the next chapter, we'll explore how to integrate these URDF models with ROS 2 and Gazebo for simulation and control."})]})}function m(n={}){const{wrapper:i}={...(0,r.R)(),...n.components};return i?(0,o.jsx)(i,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}}}]);